<style>
  /* Hide pong section by default */
  #pong-section {
    display: none;
  }
</style>

<script>
  // Parse JWT token from URL
  const params = new URLSearchParams(window.location.search);
  const token = params.get('token');

  const pongSection = document.getElementById('pong-section');

  if (token) {
    // Store the token in localStorage for session persistence
    localStorage.setItem('jwt', token);

    // Remove token from URL for cleanliness
    window.history.replaceState({}, document.title, "/index.html");

    // Show pong section if token exists
    if (pongSection) pongSection.style.display = 'block';

  } else {
    // Check if token is already stored (user revisiting)
    const storedToken = localStorage.getItem('jwt');
    if (storedToken) {
      if (pongSection) pongSection.style.display = 'block';
    } 
    // No else needed because CSS already hides it
  }
</script>

    // âœ… Detect /reset-password?token=... and show reset form
const params = new URLSearchParams(window.location.search);
const token = params.get('token');

if (token && window.location.pathname === '/reset-password') {
  // Show only the reset form
  showSection('reset-section');

  const resetForm = document.getElementById('reset-form');
  if (resetForm) {
    resetForm.dataset.token = token;
  }